# Allie Agent - Autonomous Crypto Trading Bot ğŸ¤–

Ein sicherer, KI-gestÃ¼tzter Trading-Agent fÃ¼r KryptowÃ¤hrungen mit Web-UI, gebaut mit Node.js, React und PostgreSQL.

> **ğŸ‰ NEU: Komplett ohne CLI-Befehle!** Alles erfolgt Ã¼ber das Web-Interface.

## ğŸ“‹ Projekt-Ãœbersicht

Allie Agent ist ein produktionsorientierter Trading-Bot, der:
- âœ… Autonomes Trading auf Hyperliquid (Testnet)
- ğŸ¤– KI-gesteuerte Entscheidungen via Kimi K2 (OpenRouter)
- ğŸ“ˆ Lernen aus Fehlern und Anpassung der Strategien
- ğŸ” VollstÃ¤ndige Transparenz und manuelle Kontrolle
- ğŸš¨ Emergency Kill Switch fÃ¼r NotfÃ¤lle
- ğŸŒ **Web-basiertes Setup ohne Terminal-Befehle**

**Status:** âœ… Production-Ready MVP

## ğŸš€ Schnellstart (3 Befehle!)

```bash
git clone https://github.com/k3xilein/allie-agent.git
cd allie-agent
docker-compose up -d
```

**Das war's!** Ã–ffne dann: **http://localhost:3000**

### Was passiert automatisch?

1. âœ… PostgreSQL Datenbank startet
2. âœ… Alle Migrationen laufen automatisch
3. âœ… Backend-Server startet (Port 4000)
4. âœ… Frontend-Server startet (Port 3000)
5. âœ… Setup-Page Ã¶ffnet sich automatisch

### NÃ¤chste Schritte im Browser:

1. **Admin-Account erstellen** auf `/setup`
2. **Login** mit deinen Credentials
3. **Onboarding** durchlaufen (API Keys, Risk Management, Strategy)
4. **Trading starten** im Dashboard

ğŸ“– **AusfÃ¼hrliche Anleitung:** [NO-CLI-SETUP.md](./NO-CLI-SETUP.md)

## ğŸ—ï¸ Architektur

```
Browser (http://localhost:3000)
    â†“
Frontend (React + Vite)
    â†“
Backend (Node.js + Express + TypeScript)
    â†“
PostgreSQL + Hyperliquid API + OpenRouter AI
```

### Automatischer Startup-Flow

```
docker-compose up -d
    â†“
PostgreSQL startet âœ…
    â†“
Backend startet âœ…
    â†“
Auto-Migrations laufen âœ…
    â”œâ”€ users
    â”œâ”€ sessions
    â”œâ”€ trades
    â”œâ”€ ai_analyses
    â”œâ”€ user_settings
    â””â”€ agent_state
    â†“
Frontend startet âœ…
    â†“
System Ready! ğŸ‰
Open: http://localhost:3000
```

## ğŸ“‚ Projektstruktur

```
allie-agent/
â”œâ”€â”€ backend/          # Node.js Backend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/     # Konfiguration
â”‚   â”‚   â”œâ”€â”€ services/   # Business-Logik
â”‚   â”‚   â”œâ”€â”€ routes/     # API-Endpoints
â”‚   â”‚   â”œâ”€â”€ middleware/ # Auth, Security, Logging
â”‚   â”‚   â”œâ”€â”€ utils/      # Migrations, Logger
â”‚   â”‚   â””â”€â”€ models/     # TypeScript Types
â”‚   â””â”€â”€ migrations/   # SQL Auto-Migrationen
â”œâ”€â”€ frontend/         # React Frontend
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/      # Setup, Login, Dashboard, Onboarding, Settings
â”‚       â”œâ”€â”€ api/        # API-Client
â”‚       â””â”€â”€ store/      # Zustand State Management
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ features/     # Feature-Spezifikationen
â”‚   â””â”€â”€ architecture/ # Technische Dokumentation
â”œâ”€â”€ docker-compose.yml      # Development Setup
â”œâ”€â”€ docker-compose.prod.yml # Production Setup
â””â”€â”€ NO-CLI-SETUP.md        # Setup-Anleitung
```

## ğŸ¯ Features

### âœ… User Management
- Web-basiertes Setup (kein CLI!)
- Sichere Authentifizierung (bcrypt, Session-Tokens)
- Onboarding Wizard fÃ¼r neue User
- Settings-Page fÃ¼r Konfiguration

### âœ… Trading Engine
- Hyperliquid Integration (Testnet)
- KI-Analysen via OpenRouter (Kimi K2)
- 6-Agent-Workflow (Market, News, Sentiment, Signal, Risk, Execution)
- Auto-Stop bei Daily Loss Limit

### âœ… Security
- AES-256-GCM Encryption fÃ¼r API Keys
- Helmet.js Security Headers
- CORS Whitelist
- Rate Limiting
- Input Sanitization
- Session Management

### âœ… Deployment
- Docker Compose (Dev + Production)
- Auto-Migrations beim Start
- SSL/TLS mit Let's Encrypt
- Nginx Reverse Proxy
- Health Checks

## ğŸ”§ Manuelle Installation (Optional)

Wenn du Docker nicht verwenden mÃ¶chtest:

### Voraussetzungen
- Node.js 20+
- PostgreSQL 16

### 1. Datenbank

```bash
# PostgreSQL installieren
brew install postgresql@16  # macOS
# oder
apt install postgresql-16   # Linux

# Datenbank erstellen
createdb allie_agent
```

### 2. Backend

```bash
cd backend
npm install
cp .env.example .env
# .env editieren

# Server starten (Migrationen laufen automatisch!)
npm run dev
```

### 3. Frontend

```bash
cd frontend
npm install
npm run dev
```

## ğŸ”‘ Environment Variables

**Wichtig:** API-Keys werden im Onboarding-Wizard konfiguriert, NICHT mehr in .env!

### Backend (.env) - Minimal Config

```env
# Datenbank (wird automatisch gesetzt bei Docker)
DATABASE_URL=postgresql://allie:password@localhost:5432/allie_agent

# Sessions (wird automatisch generiert)
SESSION_SECRET=<auto-generated-on-first-start>
ENCRYPTION_KEY=<auto-generated-on-first-start>

# Server
PORT=4000
NODE_ENV=development
FRONTEND_URL=http://localhost:3000

# Diese Werte werden im Onboarding konfiguriert:
# - HYPERLIQUID_API_KEY
# - HYPERLIQUID_PRIVATE_KEY
# - OPENROUTER_API_KEY
```

## ğŸ“– Dokumentation

### Quick Guides
- ğŸš€ [**NO-CLI-SETUP.md**](./NO-CLI-SETUP.md) - Kompletter Setup ohne Terminal
- ğŸ” [**SECURITY-AUDIT.md**](./SECURITY-AUDIT.md) - Security Best Practices
- ğŸš¢ [**DEPLOYMENT-GUIDE.md**](./DEPLOYMENT-GUIDE.md) - Production Deployment
- âš™ï¸ [**ONBOARDING-SETTINGS.md**](./ONBOARDING-SETTINGS.md) - Onboarding & Settings Features

### Feature-Spezifikationen
- [ALLIE-1: User Authentication](docs/features/ALLIE-1-user-authentication.md)
- [ALLIE-2: Trading Dashboard](docs/features/ALLIE-2-trading-dashboard.md)
- [ALLIE-3: Agent Control Panel](docs/features/ALLIE-3-agent-control-panel.md)
- [ALLIE-4: Hyperliquid Integration](docs/features/ALLIE-4-hyperliquid-integration.md)
- [ALLIE-5: KI Trading Logic](docs/features/ALLIE-5-ki-trading-logic.md)
- [ALLIE-6: Trade History & Logging](docs/features/ALLIE-6-trade-history-logging.md)

### Architektur
- [System-Architektur](docs/architecture/system-architecture.md)

## ğŸ›¡ï¸ Sicherheit

- **PasswÃ¶rter:** bcrypt-gehashed
- **Sessions:** HTTP-Only Cookies
- **Secrets:** Environment Variables (niemals im Code)
- **API-Wallet:** Ohne Withdrawal-Rechte
- **Emergency Stop:** SchlieÃŸt alle Positionen sofort

## ğŸ§ª Testing

### Backend-Tests
```bash
cd backend
npm test
```

### Frontend-Tests
```bash
cd frontend
npm test
```

## ğŸ“Š API-Endpoints

### Authentication
- `POST /api/auth/setup` - Initial Admin-Account
- `POST /api/auth/login` - Login
- `POST /api/auth/logout` - Logout
- `GET /api/auth/session` - Session validieren

### Dashboard
- `GET /api/dashboard/overview` - Status & Metriken
- `GET /api/positions/active` - Offene Positionen
- `GET /api/trades/history` - Trade-Historie

### Agent Control
- `POST /api/agent/start` - Trading starten
- `POST /api/agent/stop` - Trading stoppen
- `POST /api/agent/emergency-stop` - Notfall-Stop
- `POST /api/agent/reset-emergency` - Emergency-Reset

## ğŸ”„ Workflow (Agenten-basiert)

Dieses Projekt wurde mit 6 spezialisierten Agenten entwickelt:

1. **Requirements Engineer** â†’ Feature-Specs
2. **Solution Architect** â†’ System-Design
3. **Backend Developer** â†’ APIs & Services
4. **Frontend Developer** â†’ UI-Komponenten
5. **QA Engineer** â†’ Testing
6. **DevOps Engineer** â†’ Deployment

Koordination Ã¼ber `context.md`.

## âš ï¸ Wichtige Hinweise

- **Testnet First:** Immer zuerst auf Testnet testen!
- **Kein Gambling:** Professionelles Risk-Management
- **Nie Production-Keys committen**
- **Emergency Stop niemals deaktivieren**

## ğŸ“ Lizenz

MIT

## ğŸ¤ Contributing

Aktuell privates Projekt, keine externen Contributions.

---

**Status:** In Entwicklung (MVP Phase)  
**Letzte Aktualisierung:** 2026-02-10
